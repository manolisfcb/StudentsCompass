<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
  <title>Resources Hub - StudentsCompass</title>
  <link rel="stylesheet" href="/static/css/style.css">
  <link rel="stylesheet" href="/static/css/resources.css">
</head>
<body>
  {% include "includes/header.html" %}

  <main class="dashboard-layout">
    {% include "includes/sidebar.html" %}

    <main class="dashboard">
      <div class="resources-container">
        <div class="resources-header">
          <div class="resources-header-row">
            <div>
              <h2>Resources Hub</h2>
              <p>Explore curated, read-only learning resources and career courses.</p>
            </div>
          </div>
        </div>

        <div class="filter-bar">
          <button class="filter-chip active" data-category="all">All</button>
          <button class="filter-chip" data-category="career">Career</button>
          <button class="filter-chip" data-category="learning">Learning</button>
          <button class="filter-chip" data-category="professional">Professional</button>
        </div>

        <div class="control-bar">
          <input id="resource-search" type="text" placeholder="Search by title, description or tags..." aria-label="Search resources">
          <select id="resource-sort" aria-label="Sort resources">
            <option value="recent">Most recent</option>
            <option value="name">Name A-Z</option>
            <option value="duration">Shortest duration</option>
          </select>
        </div>

        <div id="resources-grid" class="resources-grid">
          {% for resource in resources %}
          <article
            class="resource-card"
            data-category="{{ (resource.category or '') | lower }}"
            data-title="{{ resource.title }}"
            data-description="{{ resource.description }}"
            data-tags="{{ (resource.tags or []) | join(' ') }}"
            data-created-at="{{ resource.created_at.isoformat() }}"
            data-duration="{{ resource.estimated_duration_minutes or '' }}"
          >
            <div class="resource-icon">{{ resource.icon or 'ðŸ“š' }}</div>
            <h3 class="resource-title">{{ resource.title }}</h3>
            <p class="resource-description">{{ resource.description }}</p>
            <div class="resource-meta">
              <span class="meta-pill">{{ resource.category }}</span>
              {% if resource.level %}<span class="meta-pill">{{ resource.level }}</span>{% endif %}
              {% if resource.estimated_duration_minutes %}<span class="meta-pill">{{ resource.estimated_duration_minutes }} min</span>{% endif %}
            </div>
            <div class="resource-tags">
              {% for tag in resource.tags or [] %}
              <span class="tag">{{ tag }}</span>
              {% endfor %}
            </div>
            <a class="resource-open-btn" href="/resources/{{ resource.id }}">Open course</a>
          </article>
          {% endfor %}
        </div>

        <div id="resources-empty" class="empty-state" {% if resources|length > 0 %}style="display:none;"{% endif %}>
          No resources found for this filter.
        </div>
      </div>
    </main>
  </main>

  {% include "includes/footer.html" %}
  <script src="/static/js/resources.js"></script>
</body>
</html>